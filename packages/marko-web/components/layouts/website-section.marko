import { get, getAsObject } from "@base-cms/object-path";

$ const section = getAsObject(input, "section");
$ const { document, config } = out.global;
$ const withRss = input.withRss != null ? input.withRss : true;

<${document} above-container=input.aboveContainer below-container=input.belowContainer>
  <@head>
    <marko-web-page-metadata
      title=get(section, "metadata.title")
      description=get(section, "metadata.description")
      canonical-path=section.canonicalPath
    />
    <if(withRss)>
      <marko-web-rss-website-section alias=section.alias name=section.name />
    </if>
    <${input.head} />
  </@head>
  <@container above-page=input.abovePage below-page=input.belowPage>
    <@page for="website-section" id=section.id>
      <${input.page} />
    </@page>
  </@container>
</>
