import { set, get } from '@base-cms/object-path';

$ const { parseEmbeddedMedia, res } = out.global;
$ const field = 'body';
$ const props = {
  ...input,
  field,
};

$ const result = get(props.obj, props.field, props.defaultValue);
$ const body = result == null ? '' : `${result}`.trim();

$ const parsed = parseEmbeddedMedia(body, res);
$ set(props, `obj.${field}`, parsed);

<cms-html-element ...props />
