import { buildImgixUrl } from '@base-cms/image';

$ const { config } = out.global;
$ const src = buildImgixUrl(input.src, input.options, undefined, input.isLogo);

<if(src)>
  <if(config.lazyloadImages() && input.lazyload !== false)>
    <img
      src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
      data-src=src
      class=[input.class, 'lazyload']
      alt=input.alt
      title=input.title
      width=input.width
      height=input.height
    />
  </if>
  <else>
    <img
      src=src
      class=input.class
      alt=input.alt
      title=input.title
      width=input.width
      height=input.height
    />
  </else>
</if>
